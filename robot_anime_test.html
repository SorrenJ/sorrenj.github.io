<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robot SVG Animation Test</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            height: 200vh; /* Make page scrollable */
        }
        
        .test-section {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: #f0f0f0;
        }
        
        .svg-container {
            width: 413px;
            height: 413px;
            border: 1px solid #ccc;
            background: white;
            margin-bottom: 20px;
        }
        
        .controls {
            margin-top: 20px;
            padding: 10px;
            background: #eee;
            border-radius: 5px;
        }
        
        button {
            padding: 8px 16px;
            margin: 0 5px;
            cursor: pointer;
        }
        
        #debug-info {
            margin-top: 20px;
            padding: 10px;
            background: #333;
            color: white;
            border-radius: 5px;
            font-family: monospace;
            max-width: 600px;
        }
    </style>
</head>
<body>
    <div class="test-section" id="section1">
        <h1>Scroll down to test the robot animation</h1>
        <div class="svg-container">
            <!-- Inline SVG for testing -->
            <svg id="robot-svg" width="413" height="413" viewBox="0 0 413 413" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_67_137)">
                    <path id="robot-path" fill="none" stroke="black" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"
                        d="M121.4 338.062H167.7V307.25H121.4V338.062ZM183.35 338.062H229.65V307.25H183.35V338.062ZM245.3 338.062H291.6V307.25H245.3V338.062ZM392.354 183.188C394.649 183.184 396.943 183.746 399.108 184.865C401.277 185.986 403.288 187.652 405.007 189.801C406.726 191.95 408.111 194.529 409.062 197.402C410.012 200.275 410.503 203.367 410.5 206.498L413 206.5H410.5V309.752C410.503 312.883 410.012 315.975 409.062 318.848C408.111 321.721 406.726 324.3 405.007 326.449C403.288 328.598 401.277 330.264 399.108 331.385C396.943 332.504 394.649 333.066 392.354 333.062H374.2V183.188H392.354ZM155.577 174.471C150.338 171.758 144.527 171.032 138.911 172.428C133.308 173.821 128.255 177.236 124.346 182.123C120.439 187.006 117.822 193.168 116.765 199.812C115.707 206.458 116.247 213.35 118.329 219.634C120.411 225.916 123.962 231.368 128.606 235.247C133.115 239.013 138.463 241.131 144.013 241.26L144.55 241.266C148.356 241.266 152.106 240.328 155.578 238.53C159.047 236.734 162.159 234.123 164.755 230.878C167.35 227.633 169.388 223.809 170.771 219.634C172.155 215.459 172.863 210.997 172.862 206.5L172.857 205.866C172.761 199.319 171.164 192.908 168.217 187.396C165.175 181.705 160.801 177.175 155.577 174.471ZM279.478 174.471C274.239 171.758 268.426 171.031 262.811 172.428C257.208 173.821 252.155 177.237 248.246 182.123C244.34 187.006 241.722 193.168 240.665 199.812C239.608 206.458 240.147 213.35 242.229 219.634C244.311 225.916 247.862 231.368 252.507 235.247C257.015 239.013 262.363 241.131 267.912 241.26L268.45 241.266C272.256 241.266 276.005 240.328 279.478 238.53C282.947 236.734 286.059 234.123 288.655 230.878C291.251 227.633 293.288 223.809 294.671 219.634C296.054 215.458 296.763 210.997 296.763 206.5L296.758 205.866C296.661 199.319 295.064 192.908 292.117 187.396C289.075 181.705 284.701 177.175 279.478 174.471ZM2.5 206.498C2.49699 203.367 2.98823 200.275 3.93848 197.402C4.88884 194.529 6.27395 191.95 7.99316 189.801C9.71187 187.652 11.7227 185.986 13.8916 184.865C16.0573 183.746 18.3508 183.184 20.6465 183.188L20.6504 180.688V183.188H38.7998V333.062H20.6465C18.3508 333.066 16.0573 332.504 13.8916 331.385C11.7227 330.264 9.71188 328.598 7.99316 326.449C6.27395 324.3 4.88884 321.721 3.93848 318.848C2.98823 315.975 2.49699 312.883 2.5 309.752V206.498ZM64.4502 141.968C64.4481 133.753 65.7409 125.626 68.248 118.057C70.7554 110.486 74.422 103.638 79.0176 97.8936C83.6126 92.1497 89.0388 87.6319 94.9658 84.5645C100.704 81.5946 106.816 80.0337 112.978 79.9414L113.574 79.9375H188.35V25.8125C188.35 19.4713 190.37 13.4728 193.851 9.12207C197.32 4.78586 201.889 2.50001 206.5 2.5C211.111 2.5 215.68 4.78586 219.149 9.12207C222.63 13.4728 224.65 19.4713 224.65 25.8125V79.9375H299.426C305.789 79.9349 312.11 81.4988 318.034 84.5645C323.961 87.6319 329.387 92.1497 333.982 97.8936C338.578 103.638 342.245 110.486 344.752 118.057C347.259 125.626 348.552 133.753 348.55 141.968L351.05 141.969H348.55V361.375C348.539 374.558 344.34 387.114 336.989 396.303C329.649 405.477 319.832 410.488 309.747 410.5H103.253C93.1676 410.487 83.3505 405.477 76.0107 396.303C68.8892 387.401 64.7257 375.338 64.4629 362.607L64.4502 361.373V141.968Z"/>
                </g>
                <defs>
                    <clipPath id="clip0_67_137">
                        <rect width="413" height="413" fill="white"/>
                    </clipPath>
                </defs>
            </svg>
        </div>
        
        <div class="controls">
            <button id="test-animation">Test Animation</button>
            <button id="reset-animation">Reset Animation</button>
            <button id="log-path">Log Path Info</button>
        </div>
        
        <div id="debug-info">
            Debug information will appear here...
        </div>
    </div>
    
    <div class="test-section" id="section2">
        <h2>Scroll down to trigger animation</h2>
        <p>This second section helps test scroll-based animation</p>
    </div>

    <!-- Load GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const debugInfo = document.getElementById('debug-info');
            const robotPath = document.getElementById('robot-path');
            let animation;
            
            // Initialize GSAP
            gsap.registerPlugin(ScrollTrigger);
            
            // Log debug information
            function logDebug(message) {
                debugInfo.innerHTML += `<div>${new Date().toLocaleTimeString()}: ${message}</div>`;
                debugInfo.scrollTop = debugInfo.scrollHeight;
            }
            
            // Initialize path animation
            function initAnimation() {
                if (!robotPath) {
                    logDebug("Error: Robot path element not found");
                    return;
                }
                
                // Calculate path length
                const length = robotPath.getTotalLength();
                logDebug(`Path length: ${length.toFixed(2)}`);
                
                // Set initial state
                robotPath.style.strokeDasharray = length;
                robotPath.style.strokeDashoffset = length;
                
                // Create animation
                animation = gsap.to(robotPath, {
                    strokeDashoffset: 0,
                    duration: 2,
                    ease: "power2.inOut",
                    paused: true,
                    onComplete: () => logDebug("Animation completed"),
                    onReverseComplete: () => logDebug("Animation reset")
                });
                
                // ScrollTrigger
                ScrollTrigger.create({
                    trigger: "#section1",
                    start: "top center",
                    end: "bottom center",
                    scrub: true,
                    markers: true,
                    onEnter: () => logDebug("ScrollTrigger entered"),
                    onLeave: () => logDebug("ScrollTrigger left"),
                    onEnterBack: () => logDebug("ScrollTrigger entered back"),
                    onLeaveBack: () => logDebug("ScrollTrigger left back"),
                    animation: animation
                });
                
                logDebug("Animation initialized");
            }
            
            // Test buttons
            document.getElementById('test-animation').addEventListener('click', () => {
                logDebug("Manual animation test started");
                gsap.to(robotPath, {
                    strokeDashoffset: 0,
                    duration: 2,
                    ease: "power2.inOut"
                });
            });
            
            document.getElementById('reset-animation').addEventListener('click', () => {
                const length = robotPath.getTotalLength();
                gsap.set(robotPath, {
                    strokeDashoffset: length
                });
                logDebug("Animation reset");
            });
            
            document.getElementById('log-path').addEventListener('click', () => {
                logDebug(`Path stroke: ${window.getComputedStyle(robotPath).stroke}`);
                logDebug(`Path stroke-width: ${window.getComputedStyle(robotPath).strokeWidth}`);
                logDebug(`Path visibility: ${window.getComputedStyle(robotPath).visibility}`);
            });
            
            // Initialize
            initAnimation();
        });
    </script>
</body>
</html>